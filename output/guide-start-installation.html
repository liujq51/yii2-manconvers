<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="language" content="en" />
        <link href="./assets/b358e5c1/css/bootstrap.css" rel="stylesheet">
<link href="./assets/8f1402d3/solarized_light.css" rel="stylesheet">
<link href="./assets/8b9664e6/style.css" rel="stylesheet">
<script src="./assets/6bfe5f03/jquery.js"></script>
<script src="./assets/b358e5c1/js/bootstrap.js"></script>
<script src="./assets/deab3b5f/jssearch.js"></script>    <title>Installation - Getting Started - The Definitive Guide to Yii 2.0</title>
</head>
<body>

<div class="wrap">
    <nav id="w18" class="navbar-inverse navbar-fixed-top navbar" role="navigation"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#w18-collapse"><span class="sr-only">Toggle navigation</span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span></button><a class="navbar-brand" href="./guide-index.html">The Definitive Guide to Yii 2.0</a></div><div id="w18-collapse" class="collapse navbar-collapse"><ul id="w19" class="navbar-nav nav"><li><a href="./guide-README.html">Guide</a></li></ul><div class="navbar-form navbar-left" role="search">
  <div class="form-group">
    <input id="searchbox" type="text" class="form-control" placeholder="Search">
  </div>
</div>
</div></nav>
    <div id="search-resultbox" style="display: none;" class="modal-content">
        <ul id="search-results">
        </ul>
    </div>

    
<div class="row">
    <div class="col-md-2">
                <div id="navigation" class="list-group"><a class="list-group-item active" href="#navigation-15" data-toggle="collapse" data-parent="#navigation">Getting Started <b class="caret"></b></a><div id="navigation-15" class="submenu panel-collapse collapse in"><a class="list-group-item active" href="./guide-start-installation.html">Installation</a>
<a class="list-group-item" href="./guide-start-comparison.html">Difference from basic project template</a>
<a class="list-group-item" href="./guide-start-composer.html">Configuring Composer</a></div>
<a class="list-group-item" href="#navigation-16" data-toggle="collapse" data-parent="#navigation">Structure <b class="caret"></b></a><div id="navigation-16" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-structure-directories.html">Directories</a>
<a class="list-group-item" href="./guide-structure-path-aliases.html">Predefined path aliases</a>
<a class="list-group-item" href="./guide-structure-applications.html">Applications</a>
<a class="list-group-item" href="./guide-structure-environments.html">Configuration and environments</a></div>
<a class="list-group-item" href="#navigation-17" data-toggle="collapse" data-parent="#navigation">Additional Topics <b class="caret"></b></a><div id="navigation-17" class="submenu panel-collapse collapse"><a class="list-group-item" href="./guide-topic-link-backend-frontend.html">Creating links from backend to frontend</a>
<a class="list-group-item" href="./guide-topic-adding-more-apps.html">Adding more applications</a></div></div>    </div>
    <div class="col-md-9 guide-content" role="main">
        <h1>Installation <span id="installation"></span><a href="#installation" class="hashlink">&para;</a></h1>
<div class="toc"><ol><li><a href="#requirements">Requirements</a></li>
<li><a href="#installing-using-vagrant">Installing using Vagrant</a></li>
<li><a href="#installing-using-composer">Installing using Composer</a></li>
<li><a href="#install-from-an-archive-file">Install from an Archive File</a></li>
<li><a href="#preparing-application">Preparing application</a></li></ol></div>
<h2>Requirements <span id="requirements"></span><a href="#requirements" class="hashlink">&para;</a></h2><p>The minimum requirement by this project template is that your Web server supports PHP 5.4.0.</p>
<h2>Installing using Vagrant <span id="installing-using-vagrant"></span><a href="#installing-using-vagrant" class="hashlink">&para;</a></h2><p>This way is the easiest but long (~20 min).</p>
<p><strong>This installation way doesn't require pre-installed software (such as web-server, PHP, MySQL etc.)</strong> - just do next steps!</p>
<h4>Manual for Linux/Unix users <span id="manual-for-linuxunix-users"></span><a href="#manual-for-linuxunix-users" class="hashlink">&para;</a></h4><ol>
<li>Install <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a></li>
<li>Install <a href="https://www.vagrantup.com/downloads.html">Vagrant</a></li>
<li>Create GitHub <a href="https://github.com/blog/1509-personal-api-tokens">personal API token</a></li>
<li><p>Prepare project:</p>
<pre><code class="hljs bash language-bash">git <span class="hljs-built_in">clone</span> https://github.com/yiisoft/yii2-app-advanced.git
<span class="hljs-built_in">cd</span> yii2-app-advanced/vagrant/config
cp vagrant-local.example.yml vagrant-local.yml
</code></pre>
</li>
<li>Place your GitHub personal API token to <code>vagrant-local.yml</code></li>
<li><p>Change directory to project root:</p>
<pre><code class="hljs bash language-bash"><span class="hljs-built_in">cd</span> yii2-app-advanced
</code></pre>
</li>
<li><p>Run commands:</p>
<pre><code class="hljs bash language-bash">vagrant plugin install vagrant-hostmanager
vagrant up
</code></pre>
</li>
</ol>
<p>That's all. You just need to wait for completion! After that you can access project locally by URLs:</p>
<ul>
<li>frontend: <a href="http://y2aa-frontend.dev">http://y2aa-frontend.dev</a></li>
<li>backend: <a href="http://y2aa-backend.dev">http://y2aa-backend.dev</a></li>
</ul>
<h4>Manual for Windows users <span id="manual-for-windows-users"></span><a href="#manual-for-windows-users" class="hashlink">&para;</a></h4><ol>
<li>Install <a href="https://www.virtualbox.org/wiki/Downloads">VirtualBox</a></li>
<li>Install <a href="https://www.vagrantup.com/downloads.html">Vagrant</a></li>
<li>Reboot</li>
<li>Create GitHub <a href="https://github.com/blog/1509-personal-api-tokens">personal API token</a></li>
<li><p>Prepare project:</p>
<ul>
<li>download repo <a href="https://github.com/yiisoft/yii2-app-advanced/archive/master.zip">yii2-app-advanced</a></li>
<li>unzip it</li>
<li>go into directory <code>yii2-app-advanced-master/vagrant/config</code></li>
<li>copy <code>vagrant-local.example.yml</code> to <code>vagrant-local.yml</code></li>
</ul>
</li>
<li>Place your GitHub personal API token to <code>vagrant-local.yml</code></li>
<li><p>Add the following lines to <a href="https://en.wikipedia.org/wiki/Hosts_(file)">hosts file</a>:</p>
<pre><code class="hljs css">192<span class="hljs-class">.168</span><span class="hljs-class">.83</span><span class="hljs-class">.137</span> <span class="hljs-tag">y2aa-frontend</span><span class="hljs-class">.dev</span>
192<span class="hljs-class">.168</span><span class="hljs-class">.83</span><span class="hljs-class">.137</span> <span class="hljs-tag">y2aa-backend</span><span class="hljs-class">.dev</span>
</code></pre>
</li>
<li><p>Open terminal (<code>cmd.exe</code>), <strong>change directory to project root</strong> and run commands:</p>
<pre><code class="hljs bash language-bash">vagrant plugin install vagrant-hostmanager
vagrant up
</code></pre>
<p>(You can read <a href="http://www.wikihow.com/Change-Directories-in-Command-Prompt">here</a> how to change directories in command prompt) </p>
</li>
</ol>
<p>That's all. You just need to wait for completion! After that you can access project locally by URLs:</p>
<ul>
<li>frontend: <a href="http://y2aa-frontend.dev">http://y2aa-frontend.dev</a></li>
<li>backend: <a href="http://y2aa-backend.dev">http://y2aa-backend.dev</a></li>
</ul>
<h2>Installing using Composer <span id="installing-using-composer"></span><a href="#installing-using-composer" class="hashlink">&para;</a></h2><p>If you do not have <a href="http://getcomposer.org/">Composer</a>, follow the instructions in the
<a href="https://github.com/yiisoft/yii2/blob/master/docs/guide/start-installation.md#installing-via-composer">Installing Yii</a> section of the definitive guide to install it.</p>
<p>With Composer installed, you can then install the application using the following commands:</p>
<pre><code class="hljs php">composer <span class="hljs-keyword">global</span> <span class="hljs-keyword">require</span> <span class="hljs-string">"fxp/composer-asset-plugin:~1.1.1"</span>
composer create-project --prefer-dist yiisoft/yii2-app-advanced yii-application
</code></pre>
<p>The first command installs the <a href="https://github.com/francoispluchino/composer-asset-plugin/">composer asset plugin</a>
which allows managing bower and npm package dependencies through Composer. You only need to run this command
once for all. The second command installs the advanced application in a directory named <code>yii-application</code>.
You can choose a different directory name if you want.</p>
<h2>Install from an Archive File <span id="install-from-an-archive-file"></span><a href="#install-from-an-archive-file" class="hashlink">&para;</a></h2><p>Extract the archive file downloaded from <a href="http://www.yiiframework.com/download/">yiiframework.com</a> to
a directory named <code>advanced</code> that is directly under the Web root.</p>
<p>Then follow the instructions given in the next subsection.</p>
<h2>Preparing application <span id="preparing-application"></span><a href="#preparing-application" class="hashlink">&para;</a></h2><p>After you install the application, you have to conduct the following steps to initialize
the installed application. You only need to do these once for all.</p>
<ol>
<li><p>Open a console terminal, execute the <code>init</code> command and select <code>dev</code> as environment.</p>
<pre><code class="hljs ">/path/to/php-bin/php /path/to/yii-application/init
</code></pre>
<p>Otherwise, in production execute <code>init</code> in non-interactive mode.</p>
<pre><code class="hljs dockerfile">/path/to/php-bin/php /path/to/yii-application/init --<span class="hljs-built_ins">env</span>=Production --overwrite=All
</code></pre>
</li>
<li><p>Create a new database and adjust the <code>components['db']</code> configuration in <code>common/config/main-local.php</code> accordingly.</p>
</li>
<li><p>Open a console terminal, apply migrations with command <code>/path/to/php-bin/php /path/to/yii-application/yii migrate</code>.</p>
</li>
<li><p>Set document roots of your web server:</p>
<ul>
<li>for frontend <code>/path/to/yii-application/frontend/web/</code> and using the URL <code>http://frontend.dev/</code></li>
<li>for backend <code>/path/to/yii-application/backend/web/</code> and using the URL <code>http://backend.dev/</code></li>
</ul>
<p>For Apache it could be the following:</p>
<pre><code class="hljs apache language-apache">    <span class="hljs-tag">&lt;VirtualHost *:80&gt;</span>
        <span class="hljs-keyword"><span class="hljs-common">ServerName</span></span> frontend.dev
        <span class="hljs-keyword"><span class="hljs-common">DocumentRoot</span></span> <span class="hljs-string">"/path/to/yii-application/frontend/web/"</span>
           
        <span class="hljs-tag">&lt;Directory "/path/to/yii-application/frontend/web/"&gt;</span>
            <span class="hljs-comment"># use mod_rewrite for pretty URL support</span>
            <span class="hljs-keyword"><span class="hljs-common">RewriteEngine</span></span> <span class="hljs-literal">on</span>
            <span class="hljs-comment"># If a directory or a file exists, use the request directly</span>
            <span class="hljs-keyword"><span class="hljs-common">RewriteCond</span></span> <span class="hljs-cbracket">%{REQUEST_FILENAME}</span> !-f
            <span class="hljs-keyword"><span class="hljs-common">RewriteCond</span></span> <span class="hljs-cbracket">%{REQUEST_FILENAME}</span> !-d
            <span class="hljs-comment"># Otherwise forward the request to index.php</span>
            <span class="hljs-keyword"><span class="hljs-common">RewriteRule</span></span> . index.php

            <span class="hljs-comment"># use index.php as index file</span>
            <span class="hljs-keyword">DirectoryIndex</span> index.php

            <span class="hljs-comment"># ...other settings...</span>
        <span class="hljs-tag">&lt;/Directory&gt;</span>
    <span class="hljs-tag">&lt;/VirtualHost&gt;</span>
       
    <span class="hljs-tag">&lt;VirtualHost *:80&gt;</span>
        <span class="hljs-keyword"><span class="hljs-common">ServerName</span></span> backend.dev
        <span class="hljs-keyword"><span class="hljs-common">DocumentRoot</span></span> <span class="hljs-string">"/path/to/yii-application/backend/web/"</span>
           
        <span class="hljs-tag">&lt;Directory "/path/to/yii-application/backend/web/"&gt;</span>
            <span class="hljs-comment"># use mod_rewrite for pretty URL support</span>
            <span class="hljs-keyword"><span class="hljs-common">RewriteEngine</span></span> <span class="hljs-literal">on</span>
            <span class="hljs-comment"># If a directory or a file exists, use the request directly</span>
            <span class="hljs-keyword"><span class="hljs-common">RewriteCond</span></span> <span class="hljs-cbracket">%{REQUEST_FILENAME}</span> !-f
            <span class="hljs-keyword"><span class="hljs-common">RewriteCond</span></span> <span class="hljs-cbracket">%{REQUEST_FILENAME}</span> !-d
            <span class="hljs-comment"># Otherwise forward the request to index.php</span>
            <span class="hljs-keyword"><span class="hljs-common">RewriteRule</span></span> . index.php

            <span class="hljs-comment"># use index.php as index file</span>
            <span class="hljs-keyword">DirectoryIndex</span> index.php

            <span class="hljs-comment"># ...other settings...</span>
        <span class="hljs-tag">&lt;/Directory&gt;</span>
    <span class="hljs-tag">&lt;/VirtualHost&gt;</span>
</code></pre>
<p>For nginx:</p>
<pre><code class="hljs nginx language-nginx">    <span class="hljs-title">server</span> {
        <span class="hljs-title">charset</span> utf-<span class="hljs-number">8</span>;
        <span class="hljs-title">client_max_body_size</span> <span class="hljs-number">128M</span>;
       
        <span class="hljs-title">listen</span> <span class="hljs-number">80</span>; <span class="hljs-comment">## listen for ipv4</span>
        <span class="hljs-comment">#listen [::]:80 default_server ipv6only=on; ## listen for ipv6</span>
       
        <span class="hljs-title">server_name</span> frontend.dev;
        <span class="hljs-title">root</span>        /path/to/yii-application/frontend/web/;
        <span class="hljs-title">index</span>       index.php;
       
        <span class="hljs-title">access_log</span>  /path/to/yii-application/log/frontend-access.log;
        <span class="hljs-title">error_log</span>   /path/to/yii-application/log/frontend-<span class="hljs-built_in">error</span>.log;
       
        <span class="hljs-title">location</span> / {
            <span class="hljs-comment"># Redirect everything that isn't a real file to index.php</span>
            <span class="hljs-title">try_files</span> <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.php?<span class="hljs-variable">$args</span>;
        }
       
        <span class="hljs-comment"># uncomment to avoid processing of calls to non-existing static files by Yii</span>
        <span class="hljs-comment">#location ~ \.(js|css|png|jpg|gif|swf|ico|pdf|mov|fla|zip|rar)$ {</span>
        <span class="hljs-comment">#    try_files $uri =404;</span>
        <span class="hljs-comment">#}</span>
        <span class="hljs-comment">#error_page 404 /404.html;</span>
       
        <span class="hljs-title">location</span> <span class="hljs-regexp">~ \.php$</span> {
            <span class="hljs-title">include</span> fastcgi_params;
            <span class="hljs-title">fastcgi_param</span> SCRIPT_FILENAME <span class="hljs-variable">$document_root</span>/<span class="hljs-variable">$fastcgi_script_name</span>;
            <span class="hljs-title">fastcgi_pass</span>   <span class="hljs-number">127.0.0.1:9000</span>;
            <span class="hljs-comment">#fastcgi_pass unix:/var/run/php5-fpm.sock;</span>
            <span class="hljs-title">try_files</span> <span class="hljs-variable">$uri</span> =<span class="hljs-number">404</span>;
        }
       
        <span class="hljs-title">location</span> <span class="hljs-regexp">~ /\.(ht|svn|git)</span> {
            <span class="hljs-title">deny</span> all;
        }
    }
        
    <span class="hljs-title">server</span> {
        <span class="hljs-title">charset</span> utf-<span class="hljs-number">8</span>;
        <span class="hljs-title">client_max_body_size</span> <span class="hljs-number">128M</span>;
       
        <span class="hljs-title">listen</span> <span class="hljs-number">80</span>; <span class="hljs-comment">## listen for ipv4</span>
        <span class="hljs-comment">#listen [::]:80 default_server ipv6only=on; ## listen for ipv6</span>
       
        <span class="hljs-title">server_name</span> backend.dev;
        <span class="hljs-title">root</span>        /path/to/yii-application/backend/web/;
        <span class="hljs-title">index</span>       index.php;
       
        <span class="hljs-title">access_log</span>  /path/to/yii-application/log/backend-access.log;
        <span class="hljs-title">error_log</span>   /path/to/yii-application/log/backend-<span class="hljs-built_in">error</span>.log;
       
        <span class="hljs-title">location</span> / {
            <span class="hljs-comment"># Redirect everything that isn't a real file to index.php</span>
            <span class="hljs-title">try_files</span> <span class="hljs-variable">$uri</span> <span class="hljs-variable">$uri</span>/ /index.php?<span class="hljs-variable">$args</span>;
        }
       
        <span class="hljs-comment"># uncomment to avoid processing of calls to non-existing static files by Yii</span>
        <span class="hljs-comment">#location ~ \.(js|css|png|jpg|gif|swf|ico|pdf|mov|fla|zip|rar)$ {</span>
        <span class="hljs-comment">#    try_files $uri =404;</span>
        <span class="hljs-comment">#}</span>
        <span class="hljs-comment">#error_page 404 /404.html;</span>
       
        <span class="hljs-title">location</span> <span class="hljs-regexp">~ \.php$</span> {
            <span class="hljs-title">include</span> fastcgi_params;
            <span class="hljs-title">fastcgi_param</span> SCRIPT_FILENAME <span class="hljs-variable">$document_root</span>/<span class="hljs-variable">$fastcgi_script_name</span>;
            <span class="hljs-title">fastcgi_pass</span>   <span class="hljs-number">127.0.0.1:9000</span>;
            <span class="hljs-comment">#fastcgi_pass unix:/var/run/php5-fpm.sock;</span>
            <span class="hljs-title">try_files</span> <span class="hljs-variable">$uri</span> =<span class="hljs-number">404</span>;
        }
       
        <span class="hljs-title">location</span> <span class="hljs-regexp">~ /\.(ht|svn|git)</span> {
            <span class="hljs-title">deny</span> all;
        }
    }
</code></pre>
</li>
<li><p>Change the hosts file to point the domain to your server.</p>
<ul>
<li>Windows: <code>c:\Windows\System32\Drivers\etc\hosts</code></li>
<li>Linux: <code>/etc/hosts</code></li>
</ul>
<p>Add the following lines:</p>
<pre><code class="hljs css">127<span class="hljs-class">.0</span><span class="hljs-class">.0</span><span class="hljs-class">.1</span>   <span class="hljs-tag">frontend</span><span class="hljs-class">.dev</span>
127<span class="hljs-class">.0</span><span class="hljs-class">.0</span><span class="hljs-class">.1</span>   <span class="hljs-tag">backend</span><span class="hljs-class">.dev</span>
</code></pre>
</li>
</ol>
<p>To login into the application, you need to first sign up, with any of your email address, username and password.
Then, you can login into the application with same email address and password at any time.</p>
        <div class="toplink"><a href="#" class="h1" title="go to top"><span class="glyphicon glyphicon-arrow-up"></a></div>
    </div>
</div>


</div>

<footer class="footer">
        <p class="pull-right"><small>Page generated on Mon, 19 Jun 2017 14:41:50 +0000</small></p>
    Powered by <a href="http://www.yiiframework.com/" rel="external">Yii Framework</a></footer>

<script type="text/javascript">jQuery(document).ready(function () {
    var shiftWindow = function () { scrollBy(0, -50) };
    if (location.hash) setTimeout(shiftWindow, 1);
    window.addEventListener("hashchange", shiftWindow);
var element = document.createElement("script");
element.src = "./jssearch.index.js";
document.body.appendChild(element);

var searchBox = $('#searchbox');

// search when typing in search field
searchBox.on("keyup", function(event) {
    var query = $(this).val();

    if (query == '' || event.which == 27) {
        $('#search-resultbox').hide();
        return;
    } else if (event.which == 13) {
        var selectedLink = $('#search-resultbox a.selected');
        if (selectedLink.length != 0) {
            document.location = selectedLink.attr('href');
            return;
        }
    } else if (event.which == 38 || event.which == 40) {
        $('#search-resultbox').show();

        var selected = $('#search-resultbox a.selected');
        if (selected.length == 0) {
            $('#search-results').find('a').first().addClass('selected');
        } else {
            var next;
            if (event.which == 40) {
                next = selected.parent().next().find('a').first();
            } else {
                next = selected.parent().prev().find('a').first();
            }
            if (next.length != 0) {
                var resultbox = $('#search-results');
                var position = next.position();

//              TODO scrolling is buggy and jumps around
//                resultbox.scrollTop(Math.floor(position.top));
//                console.log(position.top);

                selected.removeClass('selected');
                next.addClass('selected');
            }
        }

        return;
    }
    $('#search-resultbox').show();
    $('#search-results').html('<li><span class="no-results">No results</span></li>');

    var result = jssearch.search(query);

    if (result.length > 0) {
        var i = 0;
        var resHtml = '';

        for (var key in result) {
            if (i++ > 20) {
                break;
            }
            resHtml = resHtml +
            '<li><a href="' + result[key].file.u.substr(3) +'"><span class="title">' + result[key].file.t + '</span>' +
            '<span class="description">' + result[key].file.d + '</span></a></li>';
        }
        $('#search-results').html(resHtml);
    }
});

// hide the search results on ESC
$(document).on("keyup", function(event) { if (event.which == 27) { $('#search-resultbox').hide(); } });
// hide search results on click to document
$(document).bind('click', function (e) { $('#search-resultbox').hide(); });
// except the following:
searchBox.bind('click', function(e) { e.stopPropagation(); });
$('#search-resultbox').bind('click', function(e) { e.stopPropagation(); });

});</script></body>
</html>
